# HH Kazakhstan vacancy dataset

Этот каталог объединяет экспортированные из hh.ru `.csv`-файлы и упорядочивает из них ключевые поля для дальнейшей аналитики.

## Структура

- `hh_kz_*.csv` — сырые дампы из разных источников (основной, ежедневный, по регионам и т. п.).
- `merge_csv.py` — читает все `hh_kz*.csv`, объединяет строки, исключает повторы по `id` и записывает `hh_kz_combined.csv`.
- `sorting_data_by_field.py` — извлекает из `hh_kz_combined.csv` выбранные поля, приводит вложенные JSON-поля в плоскую таблицу, выписывает `gender` и `degree` на основе описания вакансии.
- `hh_kz_combined.csv` и `hh_kz_sorted.csv` — текущие результаты.

## Как использовать

1. Убедитесь, что Python 3 и `pandas` установлены (`python3 -m pip install pandas`).
2. Скомбинируйте все дата-файлы:
   ```sh
   python3 merge_csv.py
   ```
   Это пересоздаст `hh_kz_combined.csv` без дубликатов.
3. Преобразуйте и подогрейте поля:
   ```sh
   python3 sorting_data_by_field.py
   ```
   Скрипт создаст `hh_kz_sorted.csv`, где каждая вакансия содержит только нужные поля (адрес, работодатель, зарплата, пол/степень и т. д.).

## Что обновлять вручную

- `merge_csv.py` — если поменяется формат исходных CSV (например, новый ключ `salary_range`).
- `sorting_data_by_field.py` — если нужно извлекать другие поля, улучшать правила распознавания `gender`/`degree` или добавлять новые колонки.

## Проверка

- Всегда проверяйте, что в `hh_kz_combined.csv` столько же уникальных `id`, сколько строк (`python3 - <<'PY' ...`).
- Просматривайте `hh_kz_sorted.csv` через `head`/`csvkit` перед загрузкой в BI-инструмент.
